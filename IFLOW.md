# PC 转盘项目

## 项目概述

这是一个基于 HTML5、CSS3 和 JavaScript 开发的幸运转盘抽奖应用。该项目是一个纯前端应用，具有现代化的 UI 设计和流畅的动画效果，适用于营销活动、促销抽奖等场景。

### 主要特性

- **响应式设计**: 支持不同屏幕尺寸的设备访问
- **动态转盘**: 流畅的转盘旋转动画，模拟真实抽奖体验
- **库存管理**: 实时显示奖品库存，库存为0时自动售罄显示
- **概率控制**: 可配置的抽奖概率，支持多种奖项设置
- **中奖弹窗**: 精美的中奖结果展示，包含彩纸特效
- **折叠面板**: 库存展示区域支持折叠/展开，节省屏幕空间

## 技术栈

- **HTML5**: 页面结构和语义化标签
- **CSS3**: 现代样式设计，包含 Flexbox 布局、渐变背景、动画效果
- **Vanilla JavaScript**: 原生 JavaScript 实现，无依赖框架

## 项目结构

```
pc-turntable-html/
├── index.html          # 主应用文件（包含 HTML 结构、CSS 样式和 JavaScript 逻辑）
├── IFLOW.md           # 项目说明文档
└── .git/              # Git 版本控制目录
```

## 奖品设置

当前配置的奖品包括：

| 奖项等级 | 奖品名称 | 初始库存 | 中奖概率 | 角度范围 |
|---------|----------|----------|----------|----------|
| 一等奖 | 两个金苹果 | 8件 | 10% | 252°-324° |
| 二等奖 | AK47-荣耀英雄 | 20件 | 10% | 324°-360°, 0°-36° |
| 三等奖 | 艾登（永久） | 19件 | 10% | 36°-108° |
| 四等奖 | 680个钻石 | 7件 | 10% | 108°-180° |
| 五等奖 | 谢谢惠顾 | 无限制 | 60% | 180°-252° |

## 核心功能

### 1. 转盘抽奖机制

- 点击中心按钮启动转盘
- 转盘旋转 5 圈后停止在目标角度
- 使用 `cubic-bezier(0.25, 0.46, 0.45, 0.94)` 缓动函数实现逼真的物理效果
- 防止重复点击的锁定机制

### 2. 库存管理系统

- 实时更新奖品库存数量
- 库存为0时自动标记为售罄状态
- 库存面板支持折叠/展开交互
- 抽奖时自动检查库存，库存不足时重新抽奖

### 3. 概率控制算法

- 总体中奖概率为 40%，未中奖概率为 60%
- 各奖项概率平均分配（每项 10%）
- 库存不足时自动重新计算概率
- 支持动态调整概率参数

### 4. 动画效果

- 转盘旋转动画（4秒持续时间）
- 弹窗弹出动画（弹性缓动效果）
- 彩纸飘落特效（中奖时触发）
- 按钮交互动画（悬停和点击效果）

## 运行方式

### 直接运行

1. 将项目文件部署到 Web 服务器
2. 通过浏览器访问 `index.html` 文件
3. 无需额外配置或依赖安装

### 本地开发

1. 使用任何 HTTP 服务器（如 `python -m http.server` 或 `live-server`）
2. 启动服务器后访问对应端口
3. 推荐使用现代浏览器（Chrome、Firefox、Safari、Edge）

## 自定义配置

### 修改奖品设置

在 `index.html` 文件的 JavaScript 部分找到 `inventory` 对象：

```javascript
const inventory = {
    '一等奖': {
        name: '两个金苹果',
        quantity: 8,
        angleRange: [252, 324],
        emoji: '🍎'
    },
    // 其他奖项配置...
};
```

### 调整概率设置

在抽奖逻辑中修改概率参数：

```javascript
const random = Math.random() * 100; // 0-100的随机数
if (random < 40 && hasAnyInventory) {
    // 中奖逻辑（40%概率）
    // 各奖项概率分配...
} else {
    // 未中奖逻辑（60%概率）
}
```

### 更新奖品图片

在 `prizeImages` 对象中更新图片 URL：

```javascript
const prizeImages = {
    '一等奖': 'https://your-domain.com/prize1.png',
    '二等奖': 'https://your-domain.com/prize2.png',
    // 其他奖项图片...
};
```

## 样式定制

### 主要样式类

- `.wapper`: 主容器背景
- `.inner`: 转盘容器
- `.lottery-container`: 转盘主体
- `.inventory-container`: 库存展示面板
- `.prize-modal`: 中奖弹窗

### 颜色主题

当前使用紫色渐变主题：
- 主色调：`#667eea` 到 `#764ba2`
- 可通过修改 CSS 变量快速更换主题

## 浏览器兼容性

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+
- 移动端浏览器支持良好

## 性能优化

- 使用 CSS3 硬件加速动画
- 图片资源使用 CDN 加速
- 事件委托减少内存占用
- 防抖和节流优化用户交互

## 注意事项

1. 确保 CDN 图片资源可访问
2. 生产环境建议使用 HTTPS 协议
3. 移动端注意触摸事件优化
4. 考虑添加用户行为统计功能
5. 建议添加后端 API 集成以实现真实的库存管理

## 扩展建议

- 添加用户登录和抽奖次数限制
- 集成支付功能实现付费抽奖
- 添加抽奖历史记录
- 实现多语言支持
- 添加分享功能
- 集成第三方统计分析工具